Optimizer called with the following parameters:
{'focal_plane_mask': {'field_stop_radius': 14.5,
                      'grayscale': True,
                      'num_pix': 150,
                      'radius': 3.7},
 'image': {'bandwidth': 0.15,
           'contrast': 10,
           'iwa': 3.6,
           'num_wavelengths': 5,
           'owa': 14.0,
           'resolution': 2},
 'instrument': {'inst_name': 'USORT'},
 'lyot_stop': {'alignment_tolerance': 0,
               'filename': 'USORT/LS_USORT_circ_ID0000_OD0990_ovsamp16_N0128.fits',
               'num_lyot_stops': 1},
 'method': {'edge_width_for_prior': 2,
            'ending_scale': 1,
            'force_no_hermitian_symmetry': False,
            'force_no_x_mirror_symmetry': False,
            'force_no_y_mirror_symmetry': False,
            'initial_throughput_estimate': 1,
            'maximize_planet_throughput': True,
            'num_throughput_iterations': 2,
            'starting_scale': 1},
 'pupil': {'N': 128,
           'filename': 'USORT/TelAp_USORT_offaxis_ovsamp16_N0128.fits'},
 'solver': {'crossover': 0,
            'method': 2,
            'num_threads': 0}}

File organization:
{'analysis_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM37_IWA36/analysis',
 'drivers_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM37_IWA36/drivers',
 'input_files_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/masks',
 'log_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM37_IWA36/logs',
 'solution_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM37_IWA36/solutions',
 'survey_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM37_IWA36'}

Telescope pupil:
   Mirror symmetry in x: yes
   Mirror symmetry in y: yes

Lyot stop #0:
   Mirror symmetry in x: yes
Lyot stop #0:
   Mirror symmetry in y: yes

Complete APLC:
   Mirror symmetry in x: yes
   Mirror symmetry in y: yes

Starting optimization at scale 1 with 2726 variables and 2885 constraints.
Creating model...
Set parameter Username
Academic license - for non-commercial use only - expires 2024-10-25
Set parameter Crossover to value 0
Set parameter Method to value 2
Calculating and adding constraints...
Wavelength 1/5; Variable 1000/2726
Wavelength 1/5; Variable 2000/2726
Wavelength 2/5; Variable 1000/2726
Wavelength 2/5; Variable 2000/2726
Wavelength 3/5; Variable 1000/2726
Wavelength 3/5; Variable 2000/2726
Wavelength 4/5; Variable 1000/2726
Wavelength 4/5; Variable 2000/2726
Wavelength 5/5; Variable 1000/2726
Wavelength 5/5; Variable 2000/2726
Start optimization...
Gurobi Optimizer version 10.0.3 build v10.0.3rc0 (linux64)

CPU model: Intel(R) Xeon(R) Gold 6146 CPU @ 3.20GHz, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 24 physical cores, 48 logical processors, using up to 24 threads

Optimize a model with 5770 rows, 2726 columns and 15729020 nonzeros
Model fingerprint: 0xf9ffe1d9
Coefficient statistics:
  Matrix range     [4e-12, 5e-04]
  Objective range  [2e-03, 1e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e-05, 1e-05]
Presolve removed 0 rows and 0 columns (presolve time = 6s) ...
Presolve time: 7.09s
Presolved: 2726 rows, 8496 columns, 15731746 nonzeros
Error: invalid user locale; possible fix is to set the system environment
       variable 'LC_ALL' to a valid locale (e.g., to 'C')
Ordering time: 0.07s

Barrier statistics:
 AA' NZ     : 3.714e+06
 Factor NZ  : 3.717e+06 (roughly 34 MB of memory)
 Factor Ops : 6.756e+09 (less than 1 second per iteration)
 Threads    : 24

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   5.49785692e+03  0.00000000e+00  0.00e+00 0.00e+00  9.58e-01    11s
   1   2.57852055e+03  5.82095009e+02  0.00e+00 1.81e-01  3.47e-01    11s
   2   1.68162873e+03  8.92986655e+02  0.00e+00 1.12e-01  1.79e-01    12s
   3   1.25751144e+03  9.61429053e+02  0.00e+00 6.68e-02  9.99e-02    13s
   4   1.05355604e+03  9.34070530e+02  0.00e+00 4.24e-02  5.81e-02    14s
   5   9.83686614e+02  9.02596345e+02  0.00e+00 3.19e-02  4.33e-02    15s
   6   8.84015965e+02  8.76593175e+02  0.00e+00 2.55e-02  2.90e-02    16s
   7   8.37976600e+02  8.36416363e+02  0.00e+00 1.58e-02  1.66e-02    17s
   8   8.12695456e+02  8.16736586e+02  0.00e+00 1.13e-02  1.07e-02    17s
   9   8.00955665e+02  8.05898563e+02  0.00e+00 9.02e-03  8.07e-03    18s
  10   7.93474424e+02  8.00954541e+02  0.00e+00 7.95e-03  6.74e-03    19s
  11   7.83576207e+02  7.88500848e+02  0.00e+00 5.38e-03  4.48e-03    20s
  12   7.73173881e+02  7.77256630e+02  0.00e+00 3.23e-03  2.48e-03    20s
  13   7.67385328e+02  7.71502920e+02  0.00e+00 2.17e-03  1.49e-03    21s
  14   7.64432102e+02  7.68563986e+02  0.00e+00 1.64e-03  1.02e-03    22s
  15   7.62389403e+02  7.65290644e+02  0.00e+00 1.06e-03  6.34e-04    22s
  16   7.61126786e+02  7.63590762e+02  0.00e+00 7.67e-04  4.26e-04    23s
  17   7.60148984e+02  7.61501378e+02  0.00e+00 4.13e-04  2.26e-04    24s
  18   7.59543170e+02  7.60188657e+02  0.00e+00 1.96e-04  1.07e-04    24s
  19   7.59276461e+02  7.59680148e+02  0.00e+00 1.11e-04  5.69e-05    25s
  20   7.59173239e+02  7.59542801e+02  0.00e+00 8.75e-05  4.07e-05    26s
  21   7.59118101e+02  7.59326432e+02  0.00e+00 5.12e-05  2.47e-05    27s
  22   7.59082566e+02  7.59204039e+02  0.00e+00 3.09e-05  1.53e-05    27s
  23   7.59052845e+02  7.59084352e+02  0.00e+00 1.09e-05  6.45e-06    28s
  24   7.59046157e+02  7.59046656e+02  0.00e+00 4.50e-06  3.77e-06    29s
  25   7.59033984e+02  7.59032397e+02  0.00e+00 2.08e-06  1.91e-06    30s
  26   7.59027616e+02  7.59024380e+02  0.00e+00 7.50e-07  9.23e-07    31s
  27   7.59020901e+02  7.59021916e+02  5.07e-08 3.31e-07  1.89e-07    32s
  28   7.59020509e+02  7.59020309e+02  5.63e-08 5.62e-08  6.54e-08    33s
  29   7.59020508e+02  7.59020308e+02  1.32e-07 5.61e-08  6.54e-08    34s
  30   7.59020499e+02  7.59019835e+02  2.01e-08 6.66e-16  5.93e-08    36s
  31   7.59020497e+02  7.59019923e+02  8.14e-08 1.89e-13  5.12e-08    37s
  32   7.59020496e+02  7.59019987e+02  1.48e-07 5.07e-13  4.53e-08    38s
  33   7.59020484e+02  7.59019994e+02  2.72e-07 2.76e-13  4.36e-08    40s
  34   7.59020481e+02  7.59019994e+02  5.40e-07 5.13e-13  4.36e-08    41s
  35   7.59020468e+02  7.59019888e+02  7.26e-07 3.08e-13  5.18e-08    42s
  36   7.59020444e+02  7.59019991e+02  1.00e-06 3.67e-13  4.04e-08    43s
  37   7.59020438e+02  7.59019991e+02  1.90e-06 3.10e-13  4.02e-08    44s
  38   7.59020448e+02  7.59019991e+02  1.95e-06 5.15e-13  4.00e-08    45s
  39   7.59020441e+02  7.59019994e+02  3.92e-06 2.34e-13  3.88e-08    47s
  40   7.59020315e+02  7.59019993e+02  6.84e-06 3.17e-13  3.19e-08    48s
  41   7.59020239e+02  7.59019993e+02  6.59e-06 3.21e-13  2.37e-08    49s
  42   7.59020231e+02  7.59019994e+02  1.02e-05 2.77e-13  2.10e-08    50s
  43   7.59020011e+02  7.59019994e+02  9.49e-06 3.38e-13  2.44e-10    51s
  44   7.59020045e+02  7.59019994e+02  1.58e-05 6.83e-13  1.81e-10    53s
  45   7.59019871e+02  7.59019994e+02  1.46e-05 3.97e-13  5.64e-13    54s
  46   7.59020005e+02  7.59019994e+02  1.18e-05 2.70e-13  3.68e-14    55s
  47   7.59019978e+02  7.59019994e+02  4.33e-05 3.10e-13  8.45e-13    56s
  48   7.59020007e+02  7.59019994e+02  1.39e-05 2.55e-13  7.43e-14    56s
  49   7.59020166e+02  7.59019994e+02  1.16e-05 3.58e-13  5.52e-14    58s
  50   7.59020136e+02  7.59019994e+02  1.43e-05 3.46e-13  7.41e-14    59s
  51   7.59019952e+02  7.59019995e+02  1.78e-05 1.59e-13  5.03e-14    61s

Barrier performed 51 iterations in 60.99 seconds (31.09 work units)
Sub-optimal termination - objective 7.59020499e+02

Optimization finished!
Restarting optimization for throughput iteration 1...
Gurobi Optimizer version 10.0.3 build v10.0.3rc0 (linux64)

CPU model: Intel(R) Xeon(R) Gold 6146 CPU @ 3.20GHz, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 24 physical cores, 48 logical processors, using up to 24 threads

Optimize a model with 5770 rows, 2726 columns and 15729020 nonzeros
Model fingerprint: 0x58dd3786
Coefficient statistics:
  Matrix range     [4e-12, 5e-04]
  Objective range  [2e-03, 1e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [4e-06, 4e-06]
Presolve removed 0 rows and 0 columns (presolve time = 6s) ...
Presolve time: 7.00s
Presolved: 2726 rows, 8496 columns, 15731746 nonzeros
Ordering time: 0.07s

Barrier statistics:
 AA' NZ     : 3.714e+06
 Factor NZ  : 3.717e+06 (roughly 34 MB of memory)
 Factor Ops : 6.756e+09 (less than 1 second per iteration)
 Threads    : 24

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   5.41631416e+03  0.00000000e+00  0.00e+00 0.00e+00  9.48e-01    10s
   1   2.49760954e+03  5.65766015e+02  0.00e+00 1.85e-01  3.51e-01    11s
   2   1.68054500e+03  8.39177599e+02  0.00e+00 1.15e-01  1.94e-01    12s
   3   1.13018976e+03  9.16422784e+02  0.00e+00 6.90e-02  1.01e-01    13s
   4   9.81482016e+02  8.83901014e+02  0.00e+00 4.89e-02  7.04e-02    14s
   5   9.45452249e+02  8.61800310e+02  0.00e+00 4.20e-02  6.11e-02    15s
   6   8.07588934e+02  8.28666876e+02  0.00e+00 3.31e-02  4.22e-02    16s
   7   7.51269251e+02  7.90604543e+02  0.00e+00 2.40e-02  2.84e-02    17s
   8   7.25785460e+02  7.74737463e+02  0.00e+00 2.05e-02  2.28e-02    17s
   9   7.15265013e+02  7.51972253e+02  0.00e+00 1.60e-02  1.75e-02    18s
  10   7.05337660e+02  7.34137294e+02  0.00e+00 1.25e-02  1.33e-02    19s
  11   7.02032432e+02  7.28106996e+02  0.00e+00 1.13e-02  1.18e-02    20s
  12   6.93225811e+02  7.15519960e+02  0.00e+00 8.89e-03  8.73e-03    20s
  13   6.88555510e+02  7.05505986e+02  0.00e+00 7.03e-03  6.71e-03    21s
  14   6.83922775e+02  6.96837527e+02  0.00e+00 5.48e-03  5.06e-03    22s
  15   6.79690327e+02  6.89678157e+02  0.00e+00 4.22e-03  3.76e-03    23s
  16   6.77598698e+02  6.82135477e+02  0.00e+00 2.93e-03  2.77e-03    23s
  17   6.73497501e+02  6.77439470e+02  0.00e+00 2.15e-03  1.90e-03    24s
  18   6.70858716e+02  6.71827292e+02  0.00e+00 1.26e-03  1.21e-03    25s
  19   6.68186917e+02  6.70511559e+02  0.00e+00 1.06e-03  8.71e-04    26s
  20   6.67066829e+02  6.68530716e+02  0.00e+00 7.74e-04  6.56e-04    26s
  21   6.65898515e+02  6.67186657e+02  0.00e+00 5.71e-04  4.65e-04    27s
  22   6.65311361e+02  6.65956918e+02  0.00e+00 4.09e-04  3.58e-04    28s
  23   6.64082898e+02  6.64992942e+02  0.00e+00 2.83e-04  2.05e-04    28s
  24   6.63489945e+02  6.64043123e+02  0.00e+00 1.59e-04  1.11e-04    29s
  25   6.63204344e+02  6.63432255e+02  0.00e+00 8.23e-05  6.19e-05    30s
  26   6.63035504e+02  6.63250111e+02  0.00e+00 5.82e-05  3.97e-05    30s
  27   6.62935751e+02  6.63101877e+02  0.00e+00 3.93e-05  2.50e-05    31s
  28   6.62867917e+02  6.62990400e+02  0.00e+00 2.48e-05  1.44e-05    32s
  29   6.62846434e+02  6.62893035e+02  0.00e+00 1.26e-05  8.69e-06    32s
  30   6.62828642e+02  6.62864735e+02  0.00e+00 9.09e-06  6.11e-06    33s
  31   6.62815324e+02  6.62834382e+02  6.31e-09 5.33e-06  3.79e-06    34s
  32   6.62798564e+02  6.62808474e+02  6.80e-07 2.12e-06  1.30e-06    34s
  33   6.62793492e+02  6.62797605e+02  4.38e-07 7.48e-07  4.05e-07    35s
  34   6.62792606e+02  6.62793154e+02  2.40e-07 1.78e-07  1.35e-07    36s
  35   6.62792579e+02  6.62792571e+02  4.69e-07 1.03e-07  1.07e-07    38s
  36   6.62792576e+02  6.62792383e+02  7.29e-07 7.84e-08  9.82e-08    39s
  37   6.62792562e+02  6.62791802e+02  9.16e-07 3.02e-09  7.07e-08    41s
  38   6.62792536e+02  6.62791798e+02  1.48e-06 2.32e-09  6.78e-08    42s
  39   6.62792428e+02  6.62791784e+02  1.78e-06 7.36e-11  5.65e-08    43s
  40   6.62792391e+02  6.62791784e+02  2.03e-06 3.82e-11  5.30e-08    44s
  41   6.62792283e+02  6.62791785e+02  3.06e-06 9.99e-13  4.35e-08    45s
  42   6.62792051e+02  6.62791783e+02  4.98e-06 3.09e-13  2.85e-08    47s
  43   6.62792054e+02  6.62791783e+02  9.72e-06 4.51e-13  2.83e-08    48s
  44   6.62791818e+02  6.62791785e+02  5.26e-06 3.67e-13  1.36e-10    49s
  45   6.62791814e+02  6.62791785e+02  5.30e-06 2.89e-13  5.77e-11    51s
  46   6.62791783e+02  6.62791785e+02  7.95e-06 3.73e-13  4.03e-11    53s
  47   6.62791889e+02  6.62791785e+02  1.08e-05 2.51e-12  3.51e-11    55s
  48   6.62791871e+02  6.62791785e+02  1.62e-05 6.36e-13  9.55e-12    56s
  49   6.62791838e+02  6.62791785e+02  1.36e-05 1.66e-12  8.45e-12    57s
  50   6.62791934e+02  6.62791785e+02  2.13e-05 3.51e-12  3.93e-13    58s
  51   6.62791678e+02  6.62791785e+02  1.92e-05 2.85e-13  1.13e-12    59s

Barrier performed 51 iterations in 59.41 seconds (30.02 work units)
Sub-optimal termination - objective 6.62792576e+02

/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM37_IWA36/drivers/04_USORT_N128_FPM370M0150_IWA0360_OWA01400_C10_BW15_Nlam5_LS_IDc_ID0_OD_OD0_ls_90_ovsamp16_.py:102: DeprecationWarning: circular_aperture is deprecated. Its new name is make_circular_aperture.
  dark_zone_mask = circular_aperture(img_owa * 2)(focal_grid) - circular_aperture(img_iwa * 2)(focal_grid)
/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM37_IWA36/drivers/04_USORT_N128_FPM370M0150_IWA0360_OWA01400_C10_BW15_Nlam5_LS_IDc_ID0_OD_OD0_ls_90_ovsamp16_.py:110: DeprecationWarning: circular_aperture is deprecated. Its new name is make_circular_aperture.
  focal_plane_mask = 1 - evaluate_supersampled(circular_aperture(2 * fpm_radius), focal_mask_grid, 8)
/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM37_IWA36/drivers/04_USORT_N128_FPM370M0150_IWA0360_OWA01400_C10_BW15_Nlam5_LS_IDc_ID0_OD_OD0_ls_90_ovsamp16_.py:118: DeprecationWarning: circular_aperture is deprecated. Its new name is make_circular_aperture.
  field_stop = circular_aperture(2 * field_stop_radius)(field_stop_grid)
WARNING: VerifyWarning: Keyword name 'LS_ALIGN_TOl' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'LS_NUM_STOPS' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'PROG_START' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'PROG_EDGE' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'THRPT_ITER' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'THRPT_ESTIM' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'MAX_THRPT' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'SLV_THRDS' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'SLV_XOVER' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
Optimization finished!
