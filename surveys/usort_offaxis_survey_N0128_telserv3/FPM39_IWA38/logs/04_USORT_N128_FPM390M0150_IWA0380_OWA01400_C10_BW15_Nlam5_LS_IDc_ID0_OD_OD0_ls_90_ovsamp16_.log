Optimizer called with the following parameters:
{'focal_plane_mask': {'field_stop_radius': 14.5,
                      'grayscale': True,
                      'num_pix': 150,
                      'radius': 3.9000000000000004},
 'image': {'bandwidth': 0.15,
           'contrast': 10,
           'iwa': 3.8000000000000003,
           'num_wavelengths': 5,
           'owa': 14.0,
           'resolution': 2},
 'instrument': {'inst_name': 'USORT'},
 'lyot_stop': {'alignment_tolerance': 0,
               'filename': 'USORT/LS_USORT_circ_ID0000_OD0990_ovsamp16_N0128.fits',
               'num_lyot_stops': 1},
 'method': {'edge_width_for_prior': 2,
            'ending_scale': 1,
            'force_no_hermitian_symmetry': False,
            'force_no_x_mirror_symmetry': False,
            'force_no_y_mirror_symmetry': False,
            'initial_throughput_estimate': 1,
            'maximize_planet_throughput': True,
            'num_throughput_iterations': 2,
            'starting_scale': 1},
 'pupil': {'N': 128,
           'filename': 'USORT/TelAp_USORT_offaxis_ovsamp16_N0128.fits'},
 'solver': {'crossover': 0,
            'method': 2,
            'num_threads': 0}}

File organization:
{'analysis_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM39_IWA38/analysis',
 'drivers_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM39_IWA38/drivers',
 'input_files_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/masks',
 'log_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM39_IWA38/logs',
 'solution_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM39_IWA38/solutions',
 'survey_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM39_IWA38'}

Telescope pupil:
   Mirror symmetry in x: yes
   Mirror symmetry in y: yes

Lyot stop #0:
   Mirror symmetry in x: yes
Lyot stop #0:
   Mirror symmetry in y: yes

Complete APLC:
   Mirror symmetry in x: yes
   Mirror symmetry in y: yes

Starting optimization at scale 1 with 2726 variables and 2865 constraints.
Creating model...
Set parameter Username
Academic license - for non-commercial use only - expires 2024-10-25
Set parameter Crossover to value 0
Set parameter Method to value 2
Calculating and adding constraints...
Wavelength 1/5; Variable 1000/2726
Wavelength 1/5; Variable 2000/2726
Wavelength 2/5; Variable 1000/2726
Wavelength 2/5; Variable 2000/2726
Wavelength 3/5; Variable 1000/2726
Wavelength 3/5; Variable 2000/2726
Wavelength 4/5; Variable 1000/2726
Wavelength 4/5; Variable 2000/2726
Wavelength 5/5; Variable 1000/2726
Wavelength 5/5; Variable 2000/2726
Start optimization...
Gurobi Optimizer version 10.0.3 build v10.0.3rc0 (linux64)

CPU model: Intel(R) Xeon(R) Gold 6146 CPU @ 3.20GHz, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 24 physical cores, 48 logical processors, using up to 24 threads

Optimize a model with 5730 rows, 2726 columns and 15619980 nonzeros
Model fingerprint: 0xd5da767a
Coefficient statistics:
  Matrix range     [8e-12, 5e-04]
  Objective range  [2e-03, 1e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e-05, 1e-05]
Presolve removed 0 rows and 0 columns (presolve time = 6s) ...
Presolve time: 6.71s
Presolved: 2726 rows, 8456 columns, 15622706 nonzeros
Error: invalid user locale; possible fix is to set the system environment
       variable 'LC_ALL' to a valid locale (e.g., to 'C')
Ordering time: 0.06s

Barrier statistics:
 AA' NZ     : 3.714e+06
 Factor NZ  : 3.717e+06 (roughly 34 MB of memory)
 Factor Ops : 6.756e+09 (less than 1 second per iteration)
 Threads    : 24

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   5.46260068e+03  0.00000000e+00  0.00e+00 0.00e+00  9.53e-01     9s
   1   2.73330204e+03  6.02101579e+02  0.00e+00 1.76e-01  3.54e-01    10s
   2   1.77939637e+03  9.95341328e+02  0.00e+00 9.78e-02  1.58e-01    10s
   3   1.40262788e+03  1.10304193e+03  0.00e+00 5.59e-02  8.63e-02    11s
   4   1.21404223e+03  1.08562645e+03  0.00e+00 3.71e-02  5.59e-02    11s
   5   1.12305222e+03  1.05519176e+03  0.00e+00 2.90e-02  4.23e-02    12s
   6   1.05194509e+03  1.03404030e+03  0.00e+00 2.43e-02  3.35e-02    13s
   7   9.86866827e+02  9.82572242e+02  0.00e+00 1.57e-02  2.19e-02    13s
   8   9.37099371e+02  9.48336818e+02  0.00e+00 1.18e-02  1.55e-02    14s
   9   9.06397976e+02  9.23596710e+02  0.00e+00 8.97e-03  1.09e-02    15s
  10   8.88678103e+02  9.06577570e+02  0.00e+00 7.03e-03  8.03e-03    16s
  11   8.69233491e+02  9.01787149e+02  0.00e+00 6.44e-03  5.91e-03    17s
  12   8.58326366e+02  8.84559483e+02  0.00e+00 4.58e-03  3.90e-03    18s
  13   8.55304100e+02  8.71001833e+02  0.00e+00 3.16e-03  2.90e-03    18s
  14   8.50278461e+02  8.65473904e+02  0.00e+00 2.61e-03  2.21e-03    19s
  15   8.46424502e+02  8.55377586e+02  0.00e+00 1.63e-03  1.43e-03    20s
  16   8.43203519e+02  8.50006523e+02  0.00e+00 1.12e-03  9.24e-04    20s
  17   8.40761266e+02  8.46676673e+02  0.00e+00 8.01e-04  5.67e-04    21s
  18   8.39339779e+02  8.43396789e+02  0.00e+00 4.95e-04  3.16e-04    22s
  19   8.38813683e+02  8.41063421e+02  0.00e+00 2.83e-04  1.87e-04    24s
  20   8.38592974e+02  8.40346189e+02  0.00e+00 2.19e-04  1.45e-04    25s
  21   8.38281754e+02  8.39556721e+02  0.00e+00 1.48e-04  9.03e-05    25s
  22   8.38159176e+02  8.38957021e+02  0.00e+00 9.39e-05  5.88e-05    26s
  23   8.38115170e+02  8.38560988e+02  0.00e+00 5.77e-05  4.01e-05    27s
  24   8.38018652e+02  8.38299763e+02  0.00e+00 3.34e-05  2.12e-05    28s
  25   8.37998731e+02  8.38131398e+02  0.00e+00 1.88e-05  1.43e-05    29s
  26   8.37982331e+02  8.38059137e+02  0.00e+00 1.26e-05  1.06e-05    30s
  27   8.37970429e+02  8.38002980e+02  0.00e+00 7.68e-06  7.77e-06    31s
  28   8.37935620e+02  8.37947457e+02  0.00e+00 2.82e-06  2.88e-06    32s
  29   8.37927182e+02  8.37921699e+02  4.70e-08 5.51e-07  1.26e-06    33s
  30   8.37919578e+02  8.37917544e+02  3.14e-08 1.80e-07  4.32e-07    36s
  31   8.37919574e+02  8.37916908e+02  3.68e-08 1.23e-07  4.09e-07    38s
  32   8.37919542e+02  8.37915585e+02  1.25e-07 3.79e-13  3.54e-07    41s
  33   8.37919526e+02  8.37915531e+02  2.31e-07 3.93e-13  3.57e-07    43s
  34   8.37919520e+02  8.37915557e+02  2.12e-07 3.26e-13  3.54e-07    44s
  35   8.37919516e+02  8.37915559e+02  5.53e-07 3.72e-13  3.54e-07    45s
  36   8.37919508e+02  8.37915565e+02  7.79e-07 3.44e-13  3.53e-07    46s
  37   8.37919393e+02  8.37915570e+02  1.11e-06 3.43e-13  3.43e-07    47s
  38   8.37919376e+02  8.37915579e+02  1.14e-06 3.21e-13  3.40e-07    48s
  39   8.37919340e+02  8.37915569e+02  2.00e-06 5.09e-13  3.39e-07    51s
  40   8.37919337e+02  8.37915574e+02  5.23e-06 3.77e-13  3.37e-07    55s
  41   8.37919064e+02  8.37915571e+02  6.00e-06 1.07e-12  3.14e-07    59s
  42   8.37918770e+02  8.37915577e+02  7.83e-06 7.47e-13  2.91e-07    63s
  43   8.37917986e+02  8.37915587e+02  1.22e-05 3.97e-13  2.18e-07    70s
  44   8.37917482e+02  8.37915586e+02  1.57e-05 5.51e-13  1.72e-07    74s
  45   8.37917355e+02  8.37915586e+02  2.31e-05 6.92e-13  1.53e-07    79s
  46   8.37915460e+02  8.37915592e+02  1.24e-05 4.52e-13  1.77e-09    85s
  47   8.37915631e+02  8.37915597e+02  2.42e-05 2.90e-13  4.87e-10    88s
  48   8.37915398e+02  8.37915597e+02  4.28e-05 5.13e-13  6.38e-13    91s
  49   8.37915594e+02  8.37915597e+02  6.50e-06 5.37e-13  9.60e-16    93s
  50   8.37915716e+02  8.37915597e+02  2.80e-05 2.74e-13  2.25e-16    96s
  51   8.37915925e+02  8.37915597e+02  2.42e-05 3.54e-13  9.41e-18    98s

Barrier performed 51 iterations in 98.03 seconds (29.29 work units)
Sub-optimal termination - objective 8.37919542e+02

Optimization finished!
Restarting optimization for throughput iteration 1...
Gurobi Optimizer version 10.0.3 build v10.0.3rc0 (linux64)

CPU model: Intel(R) Xeon(R) Gold 6146 CPU @ 3.20GHz, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 24 physical cores, 48 logical processors, using up to 24 threads

Optimize a model with 5730 rows, 2726 columns and 15619980 nonzeros
Model fingerprint: 0x36deb936
Coefficient statistics:
  Matrix range     [8e-12, 5e-04]
  Objective range  [2e-03, 1e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [4e-06, 4e-06]
Presolve removed 0 rows and 0 columns (presolve time = 7s) ...
Presolve time: 8.65s
Presolved: 2726 rows, 8456 columns, 15622706 nonzeros
Ordering time: 0.07s

Barrier statistics:
 AA' NZ     : 3.714e+06
 Factor NZ  : 3.717e+06 (roughly 34 MB of memory)
 Factor Ops : 6.756e+09 (less than 1 second per iteration)
 Threads    : 24

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   5.38727837e+03  0.00000000e+00  0.00e+00 0.00e+00  9.44e-01    11s
   1   2.66143933e+03  5.90755554e+02  0.00e+00 1.78e-01  3.55e-01    12s
   2   1.69463671e+03  9.65646723e+02  0.00e+00 1.04e-01  1.68e-01    12s
   3   1.28691497e+03  1.04380597e+03  0.00e+00 6.26e-02  9.61e-02    13s
   4   1.04663958e+03  1.03776879e+03  0.00e+00 4.54e-02  6.24e-02    14s
   5   9.63168363e+02  1.00448274e+03  0.00e+00 3.82e-02  5.18e-02    14s
   6   8.85712738e+02  9.57417014e+02  0.00e+00 3.02e-02  4.00e-02    16s
   7   7.93602043e+02  9.00602225e+02  0.00e+00 2.20e-02  2.66e-02    17s
   8   7.82746616e+02  8.81422925e+02  0.00e+00 1.97e-02  2.39e-02    18s
   9   7.72285806e+02  8.74551056e+02  0.00e+00 1.89e-02  2.24e-02    18s
  10   7.57401647e+02  8.51078332e+02  0.00e+00 1.63e-02  1.93e-02    19s
  11   7.43130931e+02  8.36552994e+02  0.00e+00 1.48e-02  1.67e-02    19s
  12   7.31508039e+02  8.04144074e+02  0.00e+00 1.13e-02  1.24e-02    20s
  13   7.22562154e+02  7.85812793e+02  0.00e+00 9.34e-03  9.77e-03    21s
  14   7.18590727e+02  7.68755442e+02  0.00e+00 7.65e-03  8.00e-03    21s
  15   7.13571367e+02  7.55542696e+02  0.00e+00 6.33e-03  6.45e-03    22s
  16   7.10265936e+02  7.49732239e+02  0.00e+00 5.77e-03  5.72e-03    23s
  17   7.06872206e+02  7.39396575e+02  0.00e+00 4.78e-03  4.67e-03    24s
  18   7.02173054e+02  7.30261331e+02  0.00e+00 3.91e-03  3.60e-03    25s
  19   6.98800498e+02  7.19292741e+02  0.00e+00 2.88e-03  2.61e-03    27s
  20   6.97452690e+02  7.13463695e+02  0.00e+00 2.35e-03  2.18e-03    28s
  21   6.95934022e+02  7.09896648e+02  0.00e+00 2.03e-03  1.85e-03    28s
  22   6.93229989e+02  7.05775593e+02  0.00e+00 1.67e-03  1.41e-03    29s
  23   6.91025367e+02  7.02221607e+02  0.00e+00 1.34e-03  1.04e-03    29s
  24   6.88725778e+02  6.96876593e+02  0.00e+00 8.99e-04  6.50e-04    31s
  25   6.87658519e+02  6.94848362e+02  0.00e+00 7.42e-04  4.97e-04    31s
  26   6.87106514e+02  6.93280940e+02  0.00e+00 6.18e-04  4.04e-04    32s
  27   6.86568289e+02  6.91511391e+02  0.00e+00 4.79e-04  3.02e-04    33s
  28   6.86311347e+02  6.90266381e+02  0.00e+00 3.81e-04  2.39e-04    34s
  29   6.86056987e+02  6.88732162e+02  0.00e+00 2.61e-04  1.69e-04    35s
  30   6.85738439e+02  6.87748719e+02  0.00e+00 1.86e-04  1.12e-04    36s
  31   6.85545868e+02  6.86889160e+02  6.52e-09 1.21e-04  7.13e-05    37s
  32   6.85483068e+02  6.86384443e+02  8.59e-07 8.42e-05  5.24e-05    38s
  33   6.85440580e+02  6.86020213e+02  5.18e-06 5.74e-05  3.90e-05    38s
  34   6.85377246e+02  6.85779911e+02  2.73e-06 3.98e-05  2.71e-05    39s
  35   6.85318989e+02  6.85586042e+02  4.65e-06 2.56e-05  1.67e-05    40s
  36   6.85261094e+02  6.85390035e+02  2.84e-06 1.11e-05  6.14e-06    41s
  37   6.85251451e+02  6.85315242e+02  4.15e-06 5.60e-06  3.19e-06    42s
  38   6.85245921e+02  6.85274359e+02  1.07e-05 2.56e-06  1.52e-06    45s
  39   6.85245717e+02  6.85271801e+02  1.24e-05 2.37e-06  1.44e-06    47s
  40   6.85245807e+02  6.85271795e+02  2.38e-05 2.37e-06  1.44e-06    47s
  41   6.85246113e+02  6.85253887e+02  4.19e-05 1.12e-06  1.08e-06    48s
  42   6.85241300e+02  6.85248240e+02  2.75e-05 6.79e-07  3.42e-07    49s
  43   6.85240584e+02  6.85241801e+02  2.74e-05 1.73e-07  1.42e-07    50s
  44   6.85240439e+02  6.85240754e+02  2.55e-05 8.97e-08  1.10e-07    50s
  45   6.85240353e+02  6.85240396e+02  4.02e-05 6.10e-08  9.57e-08    51s
  46   6.85239568e+02  6.85239698e+02  4.03e-05 5.44e-09  4.08e-09    54s
  47   6.85239761e+02  6.85239644e+02  3.36e-05 9.63e-10  7.37e-10    55s
  48   6.85239527e+02  6.85239644e+02  5.32e-05 9.61e-10  7.22e-10    56s
  49   6.85239317e+02  6.85239633e+02  6.88e-05 5.07e-11  1.43e-10    57s
  50   6.85239402e+02  6.85239632e+02  9.09e-05 9.86e-13  2.41e-12    57s
  51   6.85239253e+02  6.85239632e+02  7.53e-05 6.95e-13  1.14e-11    58s

Barrier performed 51 iterations in 58.06 seconds (27.38 work units)
Sub-optimal termination - objective 6.85245717e+02

/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM39_IWA38/drivers/04_USORT_N128_FPM390M0150_IWA0380_OWA01400_C10_BW15_Nlam5_LS_IDc_ID0_OD_OD0_ls_90_ovsamp16_.py:102: DeprecationWarning: circular_aperture is deprecated. Its new name is make_circular_aperture.
  dark_zone_mask = circular_aperture(img_owa * 2)(focal_grid) - circular_aperture(img_iwa * 2)(focal_grid)
/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM39_IWA38/drivers/04_USORT_N128_FPM390M0150_IWA0380_OWA01400_C10_BW15_Nlam5_LS_IDc_ID0_OD_OD0_ls_90_ovsamp16_.py:110: DeprecationWarning: circular_aperture is deprecated. Its new name is make_circular_aperture.
  focal_plane_mask = 1 - evaluate_supersampled(circular_aperture(2 * fpm_radius), focal_mask_grid, 8)
/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM39_IWA38/drivers/04_USORT_N128_FPM390M0150_IWA0380_OWA01400_C10_BW15_Nlam5_LS_IDc_ID0_OD_OD0_ls_90_ovsamp16_.py:118: DeprecationWarning: circular_aperture is deprecated. Its new name is make_circular_aperture.
  field_stop = circular_aperture(2 * field_stop_radius)(field_stop_grid)
WARNING: VerifyWarning: Keyword name 'LS_ALIGN_TOl' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'LS_NUM_STOPS' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'PROG_START' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'PROG_EDGE' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'THRPT_ITER' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'THRPT_ESTIM' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'MAX_THRPT' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'SLV_THRDS' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'SLV_XOVER' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
Optimization finished!
