Optimizer called with the following parameters:
{'focal_plane_mask': {'field_stop_radius': 14.5,
                      'grayscale': True,
                      'num_pix': 150,
                      'radius': 3.8000000000000003},
 'image': {'bandwidth': 0.15,
           'contrast': 10,
           'iwa': 3.7,
           'num_wavelengths': 5,
           'owa': 14.0,
           'resolution': 2},
 'instrument': {'inst_name': 'USORT'},
 'lyot_stop': {'alignment_tolerance': 0,
               'filename': 'USORT/LS_USORT_circ_ID0000_OD0990_ovsamp16_N0128.fits',
               'num_lyot_stops': 1},
 'method': {'edge_width_for_prior': 2,
            'ending_scale': 1,
            'force_no_hermitian_symmetry': False,
            'force_no_x_mirror_symmetry': False,
            'force_no_y_mirror_symmetry': False,
            'initial_throughput_estimate': 1,
            'maximize_planet_throughput': True,
            'num_throughput_iterations': 2,
            'starting_scale': 1},
 'pupil': {'N': 128,
           'filename': 'USORT/TelAp_USORT_offaxis_ovsamp16_N0128.fits'},
 'solver': {'crossover': 0,
            'method': 2,
            'num_threads': 0}}

File organization:
{'analysis_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM38_IWA37/analysis',
 'drivers_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM38_IWA37/drivers',
 'input_files_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/masks',
 'log_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM38_IWA37/logs',
 'solution_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM38_IWA37/solutions',
 'survey_dir': '/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM38_IWA37'}

Telescope pupil:
   Mirror symmetry in x: yes
   Mirror symmetry in y: yes

Lyot stop #0:
   Mirror symmetry in x: yes
Lyot stop #0:
   Mirror symmetry in y: yes

Complete APLC:
   Mirror symmetry in x: yes
   Mirror symmetry in y: yes

Starting optimization at scale 1 with 2726 variables and 2875 constraints.
Creating model...
Set parameter Username
Academic license - for non-commercial use only - expires 2024-10-25
Set parameter Crossover to value 0
Set parameter Method to value 2
Calculating and adding constraints...
Wavelength 1/5; Variable 1000/2726
Wavelength 1/5; Variable 2000/2726
Wavelength 2/5; Variable 1000/2726
Wavelength 2/5; Variable 2000/2726
Wavelength 3/5; Variable 1000/2726
Wavelength 3/5; Variable 2000/2726
Wavelength 4/5; Variable 1000/2726
Wavelength 4/5; Variable 2000/2726
Wavelength 5/5; Variable 1000/2726
Wavelength 5/5; Variable 2000/2726
Start optimization...
Gurobi Optimizer version 10.0.3 build v10.0.3rc0 (linux64)

CPU model: Intel(R) Xeon(R) Gold 6146 CPU @ 3.20GHz, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 24 physical cores, 48 logical processors, using up to 24 threads

Optimize a model with 5750 rows, 2726 columns and 15674500 nonzeros
Model fingerprint: 0xe37af695
Coefficient statistics:
  Matrix range     [2e-12, 5e-04]
  Objective range  [2e-03, 1e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e-05, 1e-05]
Presolve removed 0 rows and 0 columns (presolve time = 5s) ...
Presolve time: 5.44s
Presolved: 2726 rows, 8476 columns, 15677226 nonzeros
Error: invalid user locale; possible fix is to set the system environment
       variable 'LC_ALL' to a valid locale (e.g., to 'C')
Ordering time: 0.07s

Barrier statistics:
 AA' NZ     : 3.714e+06
 Factor NZ  : 3.717e+06 (roughly 34 MB of memory)
 Factor Ops : 6.756e+09 (less than 1 second per iteration)
 Threads    : 24

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   5.49281729e+03  0.00000000e+00  0.00e+00 0.00e+00  9.58e-01     7s
   1   2.71869110e+03  5.93531072e+02  0.00e+00 1.78e-01  3.56e-01     7s
   2   1.82089986e+03  9.57136003e+02  0.00e+00 1.05e-01  1.73e-01     8s
   3   1.36001621e+03  1.06140285e+03  0.00e+00 5.88e-02  8.93e-02     8s
   4   1.14272609e+03  1.03403087e+03  0.00e+00 4.16e-02  5.89e-02     9s
   5   1.06755491e+03  9.86664068e+02  0.00e+00 2.93e-02  4.24e-02     9s
   6   9.73176311e+02  9.72122735e+02  0.00e+00 2.60e-02  3.20e-02     9s
   7   9.17271362e+02  9.19575343e+02  0.00e+00 1.66e-02  2.03e-02    10s
   8   8.76621598e+02  8.90702479e+02  0.00e+00 1.22e-02  1.35e-02    10s
   9   8.56423437e+02  8.69777359e+02  0.00e+00 9.31e-03  9.79e-03    10s
  10   8.42982041e+02  8.59681805e+02  0.00e+00 7.96e-03  7.74e-03    10s
  11   8.32608233e+02  8.56232273e+02  0.00e+00 7.44e-03  6.40e-03    11s
  12   8.22616741e+02  8.44430445e+02  0.00e+00 5.71e-03  4.55e-03    11s
  13   8.15238600e+02  8.31029437e+02  0.00e+00 4.09e-03  3.21e-03    12s
  14   8.09450483e+02  8.22214108e+02  0.00e+00 3.01e-03  2.23e-03    12s
  15   8.04741559e+02  8.15648634e+02  0.00e+00 2.21e-03  1.49e-03    12s
  16   8.02751769e+02  8.11362988e+02  0.00e+00 1.70e-03  1.13e-03    13s
  17   8.00044680e+02  8.07042626e+02  0.00e+00 1.19e-03  7.02e-04    13s
  18   7.98536235e+02  8.02313724e+02  0.00e+00 6.51e-04  3.93e-04    13s
  19   7.97615999e+02  8.00086331e+02  0.00e+00 4.04e-04  2.34e-04    14s
  20   7.97159203e+02  7.98748882e+02  0.00e+00 2.56e-04  1.46e-04    14s
  21   7.96833982e+02  7.97892325e+02  0.00e+00 1.61e-04  8.70e-05    14s
  22   7.96655566e+02  7.97100692e+02  0.00e+00 7.33e-05  4.30e-05    15s
  23   7.96580624e+02  7.96829811e+02  0.00e+00 4.32e-05  2.65e-05    15s
  24   7.96504965e+02  7.96637862e+02  0.00e+00 2.22e-05  1.33e-05    16s
  25   7.96480509e+02  7.96561852e+02  0.00e+00 1.37e-05  8.31e-06    16s
  26   7.96471000e+02  7.96482783e+02  0.00e+00 5.15e-06  4.79e-06    17s
  27   7.96462622e+02  7.96457121e+02  0.00e+00 2.34e-06  3.15e-06    17s
  28   7.96452018e+02  7.96440439e+02  0.00e+00 5.07e-07  1.61e-06    17s
  29   7.96443290e+02  7.96437453e+02  0.00e+00 1.61e-07  7.04e-07    18s
  30   7.96440443e+02  7.96436555e+02  0.00e+00 5.87e-08  4.14e-07    19s
  31   7.96439107e+02  7.96436074e+02  1.68e-07 1.71e-09  2.73e-07    21s
  32   7.96439106e+02  7.96436075e+02  2.20e-07 1.23e-09  2.72e-07    22s
  33   7.96439089e+02  7.96436100e+02  3.56e-07 3.32e-13  2.67e-07    23s
  34   7.96439075e+02  7.96436100e+02  8.19e-07 3.03e-13  2.67e-07    23s
  35   7.96439057e+02  7.96435640e+02  1.28e-06 6.23e-13  3.06e-07    24s
  36   7.96438901e+02  7.96435836e+02  1.52e-06 3.21e-13  2.74e-07    25s
  37   7.96438910e+02  7.96435836e+02  1.72e-06 3.28e-13  2.74e-07    25s
  38   7.96438872e+02  7.96435625e+02  2.71e-06 2.77e-13  2.90e-07    27s
  39   7.96438827e+02  7.96435778e+02  5.53e-06 3.24e-13  2.71e-07    28s
  40   7.96438580e+02  7.96436085e+02  1.05e-05 3.54e-13  2.21e-07    29s
  41   7.96437905e+02  7.96436081e+02  3.09e-05 1.12e-12  1.62e-07    29s
  42   7.96437509e+02  7.96436083e+02  1.85e-05 7.26e-13  1.23e-07    30s
  43   7.96436660e+02  7.96436091e+02  2.22e-05 3.00e-13  5.69e-08    31s
  44   7.96436650e+02  7.96436092e+02  2.35e-05 3.47e-13  4.94e-08    31s
  45   7.96436442e+02  7.96436096e+02  3.43e-05 4.09e-13  1.11e-08    32s
  46   7.96436541e+02  7.96436099e+02  7.03e-05 4.17e-13  7.33e-09    33s
  47   7.96436225e+02  7.96436100e+02  4.94e-05 4.14e-13  2.17e-09    34s
  48   7.96436223e+02  7.96436102e+02  6.73e-05 1.23e-12  4.46e-10    34s
  49   7.96436225e+02  7.96436102e+02  8.87e-05 6.09e-13  4.37e-11    34s
  50   7.96435829e+02  7.96436100e+02  2.93e-04 2.58e-12  2.61e-11    35s
  51   7.96435918e+02  7.96436100e+02  2.62e-04 2.27e-12  2.36e-11    35s
  52   7.96435648e+02  7.96436100e+02  1.38e-04 4.52e-12  1.88e-11    36s
  53   7.96436361e+02  7.96436100e+02  1.23e-04 3.28e-12  1.59e-11    36s

Barrier performed 53 iterations in 35.95 seconds (30.61 work units)
Sub-optimal termination - objective 7.96439107e+02

Optimization finished!
Restarting optimization for throughput iteration 1...
Gurobi Optimizer version 10.0.3 build v10.0.3rc0 (linux64)

CPU model: Intel(R) Xeon(R) Gold 6146 CPU @ 3.20GHz, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 24 physical cores, 48 logical processors, using up to 24 threads

Optimize a model with 5750 rows, 2726 columns and 15674500 nonzeros
Model fingerprint: 0xa5296e72
Coefficient statistics:
  Matrix range     [2e-12, 5e-04]
  Objective range  [2e-03, 1e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [4e-06, 4e-06]
Presolve removed 0 rows and 0 columns (presolve time = 5s) ...
Presolve time: 5.75s
Presolved: 2726 rows, 8476 columns, 15677226 nonzeros
Ordering time: 0.07s

Barrier statistics:
 AA' NZ     : 3.714e+06
 Factor NZ  : 3.717e+06 (roughly 34 MB of memory)
 Factor Ops : 6.756e+09 (less than 1 second per iteration)
 Threads    : 24

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   5.41399244e+03  0.00000000e+00  0.00e+00 0.00e+00  9.48e-01     8s
   1   2.64225517e+03  5.82384142e+02  0.00e+00 1.80e-01  3.57e-01     8s
   2   1.74893456e+03  9.29589637e+02  0.00e+00 1.09e-01  1.80e-01     8s
   3   1.25442016e+03  1.01604546e+03  0.00e+00 6.06e-02  9.04e-02     9s
   4   9.79967865e+02  9.83248452e+02  0.00e+00 4.70e-02  6.11e-02     9s
   5   9.20782052e+02  9.48541411e+02  0.00e+00 3.95e-02  5.09e-02     9s
   6   8.45154884e+02  9.27613696e+02  0.00e+00 3.52e-02  4.22e-02    10s
   7   7.85708899e+02  8.86379360e+02  0.00e+00 2.82e-02  3.19e-02    10s
   8   7.44620381e+02  8.59978821e+02  0.00e+00 2.43e-02  2.50e-02    10s
   9   7.35545347e+02  8.41109297e+02  0.00e+00 2.16e-02  2.19e-02    11s
  10   7.31291626e+02  8.36945854e+02  0.00e+00 2.10e-02  2.09e-02    11s
  11   7.23504822e+02  8.21035261e+02  0.00e+00 1.85e-02  1.82e-02    11s
  12   7.17541665e+02  8.07700988e+02  0.00e+00 1.68e-02  1.62e-02    12s
  13   7.14883944e+02  8.02056400e+02  0.00e+00 1.60e-02  1.53e-02    12s
  14   7.12704508e+02  7.98074302e+02  0.00e+00 1.55e-02  1.46e-02    13s
  15   7.09334111e+02  7.91999350e+02  0.00e+00 1.47e-02  1.36e-02    13s
  16   7.07657471e+02  7.87846265e+02  0.00e+00 1.41e-02  1.29e-02    13s
  17   7.04987056e+02  7.75206662e+02  0.00e+00 1.24e-02  1.13e-02    14s
  18   7.00841772e+02  7.60032285e+02  0.00e+00 1.04e-02  9.15e-03    14s
  19   6.98045458e+02  7.48102476e+02  0.00e+00 8.91e-03  7.73e-03    14s
  20   6.95747199e+02  7.39270755e+02  0.00e+00 7.82e-03  6.71e-03    15s
  21   6.94503359e+02  7.35669549e+02  0.00e+00 7.36e-03  6.27e-03    15s
  22   6.92601766e+02  7.34303844e+02  0.00e+00 7.19e-03  5.91e-03    15s
  23   6.88906137e+02  7.20213532e+02  0.00e+00 5.46e-03  4.33e-03    16s
  24   6.85691058e+02  7.11640030e+02  0.00e+00 4.42e-03  3.34e-03    16s
  25   6.83493347e+02  7.05451248e+02  0.00e+00 3.68e-03  2.68e-03    17s
  26   6.82129135e+02  7.00825586e+02  0.00e+00 3.15e-03  2.26e-03    17s
  27   6.80466020e+02  6.98661570e+02  0.00e+00 2.89e-03  1.94e-03    17s
  28   6.78165167e+02  6.93472363e+02  0.00e+00 2.30e-03  1.43e-03    18s
  29   6.76436514e+02  6.89889934e+02  0.00e+00 1.91e-03  1.10e-03    18s
  30   6.75516060e+02  6.87671914e+02  0.00e+00 1.66e-03  9.18e-04    19s
  31   6.75000086e+02  6.85089772e+02  0.00e+00 1.39e-03  7.77e-04    19s
  32   6.74068097e+02  6.82680498e+02  0.00e+00 1.12e-03  5.93e-04    19s
  33   6.73506636e+02  6.80727095e+02  0.00e+00 9.24e-04  4.82e-04    20s
  34   6.72948458e+02  6.79765590e+02  0.00e+00 8.24e-04  4.01e-04    20s
  35   6.72830333e+02  6.79474292e+02  0.00e+00 7.95e-04  3.83e-04    20s
  36   6.72516977e+02  6.78370885e+02  0.00e+00 6.86e-04  3.24e-04    21s
  37   6.72215976e+02  6.77399692e+02  0.00e+00 5.90e-04  2.69e-04    21s
  38   6.71737366e+02  6.75303864e+02  0.00e+00 3.93e-04  1.70e-04    22s
  39   6.71409750e+02  6.74003861e+02  0.00e+00 2.73e-04  1.09e-04    22s
  40   6.71339486e+02  6.73437552e+02  0.00e+00 2.21e-04  8.89e-05    22s
  41   6.71286029e+02  6.72915863e+02  0.00e+00 1.72e-04  6.98e-05    23s
  42   6.71238524e+02  6.72680942e+02  0.00e+00 1.51e-04  6.00e-05    23s
  43   6.71145652e+02  6.72335771e+02  0.00e+00 1.19e-04  4.27e-05    24s
  44   6.71115858e+02  6.71857069e+02  0.00e+00 7.53e-05  2.84e-05    24s
  45   6.71082376e+02  6.71643276e+02  0.00e+00 5.61e-05  2.05e-05    25s
  46   6.71075014e+02  6.71601447e+02  0.00e+00 5.23e-05  1.89e-05    25s
  47   6.71068304e+02  6.71582779e+02  0.00e+00 5.07e-05  1.79e-05    26s
  48   6.71055061e+02  6.71473214e+02  0.00e+00 4.08e-05  1.41e-05    26s
  49   6.71051846e+02  6.71326946e+02  0.00e+00 2.74e-05  1.00e-05    26s
  50   6.71039831e+02  6.71270698e+02  0.00e+00 2.23e-05  7.54e-06    27s
  51   6.71033922e+02  6.71111781e+02  3.23e-07 8.25e-06  3.46e-06    27s
  52   6.71026554e+02  6.71060430e+02  1.42e-06 3.71e-06  1.66e-06    28s
  53   6.71022029e+02  6.71039477e+02  1.62e-06 1.86e-06  7.95e-07    28s
  54   6.71018630e+02  6.71022081e+02  7.89e-08 3.25e-07  1.02e-07    29s
  55   6.71018620e+02  6.71019107e+02  1.38e-07 5.95e-08  3.17e-08    30s
  56   6.71018590e+02  6.71018450e+02  1.85e-07 3.32e-13  1.26e-08    32s
  57   6.71018591e+02  6.71018451e+02  4.76e-07 3.84e-13  1.25e-08    32s
  58   6.71018595e+02  6.71018451e+02  9.15e-07 3.11e-13  1.24e-08    33s
  59   6.71018589e+02  6.71018451e+02  1.36e-06 2.98e-13  1.22e-08    34s
  60   6.71018572e+02  6.71018451e+02  1.70e-06 8.64e-13  1.21e-08    35s
  61   6.71018826e+02  6.71018451e+02  3.33e-05 1.57e-12  6.53e-09    35s
  62   6.71019040e+02  6.71018452e+02  7.52e-05 5.96e-13  5.07e-09    37s
  63   6.71018907e+02  6.71018452e+02  7.16e-05 8.37e-13  4.17e-09    38s
  64   6.71018281e+02  6.71018452e+02  2.06e-05 3.13e-13  2.04e-10    39s
  65   6.71018367e+02  6.71018452e+02  2.80e-05 3.82e-13  7.37e-11    40s
  66   6.71018447e+02  6.71018452e+02  3.60e-05 3.24e-13  6.38e-11    40s
  67   6.71018357e+02  6.71018452e+02  4.01e-05 1.88e-12  2.73e-11    40s
  68   6.71018912e+02  6.71018452e+02  5.71e-05 4.30e-13  7.53e-13    41s
  69   6.71018687e+02  6.71018452e+02  3.36e-05 5.16e-13  3.69e-13    41s

Barrier performed 69 iterations in 41.06 seconds (33.25 work units)
Sub-optimal termination - objective 6.71018590e+02

/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM38_IWA37/drivers/04_USORT_N128_FPM380M0150_IWA0370_OWA01400_C10_BW15_Nlam5_LS_IDc_ID0_OD_OD0_ls_90_ovsamp16_.py:102: DeprecationWarning: circular_aperture is deprecated. Its new name is make_circular_aperture.
  dark_zone_mask = circular_aperture(img_owa * 2)(focal_grid) - circular_aperture(img_iwa * 2)(focal_grid)
/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM38_IWA37/drivers/04_USORT_N128_FPM380M0150_IWA0370_OWA01400_C10_BW15_Nlam5_LS_IDc_ID0_OD_OD0_ls_90_ovsamp16_.py:110: DeprecationWarning: circular_aperture is deprecated. Its new name is make_circular_aperture.
  focal_plane_mask = 1 - evaluate_supersampled(circular_aperture(2 * fpm_radius), focal_mask_grid, 8)
/user/bnickson/GitHub/LUVex_TelAps/aplc_optimization/surveys/usort_offaxis_survey_N0128_telserv3/FPM38_IWA37/drivers/04_USORT_N128_FPM380M0150_IWA0370_OWA01400_C10_BW15_Nlam5_LS_IDc_ID0_OD_OD0_ls_90_ovsamp16_.py:118: DeprecationWarning: circular_aperture is deprecated. Its new name is make_circular_aperture.
  field_stop = circular_aperture(2 * field_stop_radius)(field_stop_grid)
WARNING: VerifyWarning: Keyword name 'LS_ALIGN_TOl' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'LS_NUM_STOPS' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'PROG_START' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'PROG_EDGE' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'THRPT_ITER' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'THRPT_ESTIM' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'MAX_THRPT' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'SLV_THRDS' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
WARNING: VerifyWarning: Keyword name 'SLV_XOVER' is greater than 8 characters or contains characters not allowed by the FITS standard; a HIERARCH card will be created. [astropy.io.fits.card]
Optimization finished!
